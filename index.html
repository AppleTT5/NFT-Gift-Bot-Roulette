<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Мои Кейсы NFT</title>
    <!-- Подключаем скрипт Telegram -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; 
               background-color: var(--tg-theme-bg-color); color: var(--tg-theme-text-color); }
        .case-button {
    display: flex;
    align-items: center;
    padding: 0;                /* Полностью убираем внутренние отступы */
    padding-right: 15px;       /* Оставляем отступ только справа для текста */
    gap: 15px;                 /* Промежуток между картинкой и текстом */
    
    background-color: rgb(39, 41, 53);
    color: var(--tg-theme-button-text-color);
    border: none;
    border-radius: 12px;
    width: 100%;
    margin-bottom: 10px;       /* Отступ между кнопками */
    
    font-size: 18px;
    font-family: sans-serif;
    cursor: pointer;
    overflow: hidden;          /* Обрезает края картинки под border-radius */
        }
        .case-button:hover { opacity: 0.8; }
        .image{
              width: 20%;
              object-fit: cover;
        }
        .case-button img {
    display: block;        /* Убирает лишние зазоры снизу у картинки */
    border-radius: 8px;}
    .case-button span {
    padding-right: 15px;    /* Чтобы текст не прилипал к правому краю */
    text-align: left;
}
    </style>
</head>
<body>
    <h1>Выберите свой кейс, <span id="username">пользователь</span>!</h1>
    
    <!-- Кнопки для покупки кейсов -->
    <button class="case-button" onclick="buyCase('Маленький кейс')">
        <img src="small_case.jpeg" alt="Иконка" style="width:100px;height:100px;">
        <span>Маленький кейс (25 Звёзд)</span>
    </button>
    <button class="case-button" onclick="buyCase('Большой кейс')">
        <img src="big_case.jpg" alt="Иконка" style="width:100px;height:100px;">
        <span>Большой кейс (100 Звёзд)</span>
    </button>
    
    <button class="case-button" onclick="close()">Закрыть меню</button>

    <script>
        // Проверяем, что мы внутри приложения Telegram
        if (window.Telegram && window.Telegram.WebApp) { 
            let tg = window.Telegram.WebApp;
            tg.expand();
            //let user_id = document.getElementById("user_id").value;
            // Отображаем имя пользователя
            if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                document.getElementById("username").innerText = tg.initDataUnsafe.user.first_name;
            }

            // Функция отправки данных в бота при нажатии
            function buyCase(caseName) {
                // Отправляем название кейса как строку данных боту
                tg.sendData(caseName); 
                // Можно сразу закрыть окно после отправки
                tg.close();
            }
            function close()
            {
                tg.close();
            }
        

        } else {
            console.error("Not in Telegram Web App environment.");
        }
            
    </script>
</body>
</html>
